(function($,undefined){$.ui.dialog.prototype._setOption_old=$.ui.dialog.prototype._setOption;$.widget('ui.dialog',$.ui.dialog,{_create_old:$.ui.dialog.prototype._create,_create:function(){this.options.helper=this.options.helper||this.element.attr("helper");$.ui.dialog.prototype._create_old.apply(this,arguments);},_createButtonPane:function(){this.uiDialogButtonPane=$("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiHelper=$("<div>").addClass("ui-dialog-helper").prependTo(this.uiDialogButtonPane);if(this.options.helper){this.uiHelper.html(this.options.helper);}
this.uiButtonSet=$("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons();},_setOption_old:$.ui.dialog.prototype._setOption,_setOption:function(key,value){if(key==="helper"){this.options.helper=value;this.uiHelper.html(value);this._createButtons();}
$.ui.dialog.prototype._setOption_old.apply(this,arguments);},_createButtons:function(){var that=this,buttons=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();if(!this.options.helper){if($.isEmptyObject(buttons)||($.isArray(buttons)&&!buttons.length)){this.uiDialog.removeClass("ui-dialog-buttons");return;}}
$.each(buttons,function(name,props){var click,buttonOptions;props=$.isFunction(props)?{click:props,text:name}:props;props=$.extend({type:"button"},props);click=props.click;props.click=function(){click.apply(that.element[0],arguments);};buttonOptions={icons:props.icons,text:props.showText};delete props.icons;delete props.showText;$("<button></button>",props).button(buttonOptions).appendTo(that.uiButtonSet);});this.uiDialog.addClass("ui-dialog-buttons");this.uiDialogButtonPane.appendTo(this.uiDialog);}});}(jQuery));